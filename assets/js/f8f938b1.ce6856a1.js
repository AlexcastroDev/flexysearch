"use strict";(self.webpackChunkflexysearch_docs=self.webpackChunkflexysearch_docs||[]).push([[362],{1847:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>k,contentTitle:()=>A,default:()=>I,frontMatter:()=>C,metadata:()=>x,toc:()=>D});var r=a(7896),l=a(1461),n=a(2784),o=a(876),i=a(132),s=a(189),c=a(4001),u=a(8203),d=a(6466),f=function(e){return e[e.SET_DATA_ACTION=0]="SET_DATA_ACTION",e[e.SET_FILTERED_DATA_ACTION=1]="SET_FILTERED_DATA_ACTION",e}({});const p=function(e,t){switch(t.kind){case f.SET_DATA_ACTION:return Object.assign({},e,{data:t.payload});case f.SET_FILTERED_DATA_ACTION:return Object.assign({},e,{filtered_data:t.payload});default:return Object.assign({},e)}};const m={data:[],filtered_data:[]};var h=a(1182);function E(e){var t=e.children,a=e.data,r=n.useReducer(p,m),l=r[0],o=r[1],i=n.useState(null),s=i[0],c=i[1],u=n.useState([]),d=u[0],E=u[1],T=n.useDeferredValue(s),v=function(e){void 0===e&&(e=d);var t=new h.ZP(l.data);if(s){var a=l.data.filter((function(e){var t=Object.values(e).join(" ").toLowerCase();return new RegExp(s.toLowerCase()).test(t)}));t=new h.ZP(a)}return e&&0!==e.length&&t.search(e),t},y=function(e){o({kind:f.SET_DATA_ACTION,payload:e}),o({kind:f.SET_FILTERED_DATA_ACTION,payload:e})};n.useEffect((function(){a&&y(a)}),[a]),n.useEffect((function(){n.startTransition((function(){o({kind:f.SET_FILTERED_DATA_ACTION,payload:v(d).all})}))}),[d]),n.useEffect((function(){"string"==typeof T&&n.startTransition((function(){o({kind:f.SET_FILTERED_DATA_ACTION,payload:v(d).all})}))}),[T]);var b=n.useMemo((function(){return{data:l.data,filtered_data:l.filtered_data,searchValue:s,setData:y,rules:d,updateGlobalSearch:function(e){c(e)},updateFilterRules:function(e){E(e)}}}),[y,E,l,s,d]);return n.createElement(g.Provider,{value:b},t)}var g=n.createContext(null);var T=function(){var e=n.useContext(g);if(!e)throw new Error("useFlexysearchProvider must be used within a FlexysearchProvider");return e};var v=[{name:"Madara",power:100},{name:"Naruto",power:60},{name:"Sasuke",power:48},{name:"Sakura",power:10}];function y(){return n.createElement(E,null,n.createElement(b,null))}function b(){var e=T(),t=e.filtered_data,a=e.updateGlobalSearch,r=e.setData,l=e.updateFilterRules,o=e.searchValue,f=e.rules;n.useEffect((function(){r(v)}),[]);var p=t.map((function(e,t){return n.createElement("tr",{key:t},n.createElement("td",null,e.name),n.createElement("td",null,e.power))}));return n.createElement(i.Z,null,n.createElement(s.r,null,n.createElement(s.r.Col,{span:6},n.createElement(c.I,{placeholder:"Search...",value:o,onChange:function(e){var t=e.currentTarget.value;a(t)}})),n.createElement(s.r.Col,{span:6},n.createElement(u.z,{mr:"sm",onClick:function(){var e=[{field:"power",type:"number",term:50,role:h.hC.smallerOrEquals,operator:h.XG.AND}];l(e)},disabled:f.some((function(e){return e.role===h.hC.smallerOrEquals}))},"Filter Lower 50"),n.createElement(u.z,{onClick:function(){var e=[{field:"power",type:"number",term:50,role:h.hC.biggerOrEquals,operator:h.XG.AND}];l(e)},disabled:f.some((function(e){return e.role===h.hC.biggerOrEquals}))}," ","Filter Upper 50"," "),n.createElement(u.z,{variant:"subtle",onClick:function(){l([]),a("")}},"Clear"))),n.createElement(d.i,{striped:!0,withBorder:!0,mt:"lg"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Name"),n.createElement("th",{style:{width:"100%"}},"power"))),n.createElement("tbody",null,p)))}var _=["components"],C={sidebar_position:2},A="Global filter",x={unversionedId:"guide/example-global-filter",id:"guide/example-global-filter",title:"Global filter",description:"Create your first React Page",source:"@site/docs/guide/example-global-filter.md",sourceDirName:"guide",slug:"/guide/example-global-filter",permalink:"/flexysearch/docs/guide/example-global-filter",draft:!1,editUrl:"https://github.com/AlexcastroDev/flexysearch/docs/guide/example-global-filter.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/flexysearch/docs/guide/installation"},next:{title:"Deploy your site",permalink:"/flexysearch/docs/guide/contribution"}},k={},D=[{value:"Create your first React Page",id:"create-your-first-react-page",level:2},{value:"Code",id:"code",level:2}],w={toc:D},F="wrapper";function I(e){var t=e.components,a=(0,l.Z)(e,_);return(0,o.kt)(F,(0,r.Z)({},w,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"global-filter"},"Global filter"),(0,o.kt)("h2",{id:"create-your-first-react-page"},"Create your first React Page"),(0,o.kt)("p",null,"Create a file at ",(0,o.kt)("inlineCode",{parentName:"p"},"src/pages/my-react-page.js"),":"),(0,o.kt)(y,{mdxType:"TableWithGlobalFilter"}),(0,o.kt)("h2",{id:"code"},"Code"),(0,o.kt)("a",{target:"_blank",alt:"project-link",href:"https://stackblitz.com/edit/react-ts-s8gvyy?file=App.tsx"},"Show full code"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/pages/my-react-page.tsx"',title:'"src/pages/my-react-page.tsx"'},"import React from 'react';\nimport { useFlexysearch, FlexysearchProvider } from 'flexysearch-react';\n\nconst data = [{ name: 'Testing', mass: 100 }];\n\n// Each Table should have the FlexysearchProvider\nexport default function Module() {\n  return (\n    // You can set default data here\n    // <FlexysearchProvider data={[] as Element[]}>\n    <FlexysearchProvider>\n      <TableWithGlobalFilter />\n    </FlexysearchProvider>\n  );\n}\n")))}I.isMDXComponent=!0}}]);