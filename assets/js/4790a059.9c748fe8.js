"use strict";(self.webpackChunkflexysearch_docs=self.webpackChunkflexysearch_docs||[]).push([[552],{3206:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>N,contentTitle:()=>b,default:()=>F,frontMatter:()=>S,metadata:()=>B,toc:()=>P});var a=n(7896),r=n(1461),c=n(2784),l=n(876),i=n(2112),o=n.n(i),u=function(e){var t=e.inputProps,n=e.handleBlur,r=e.handleChange,l=e.value,i=e.testID,o=void 0===i?"react-currency-input-controlled":i,u=c.useState(0),s=u[0],d=u[1],f=c.useRef(null);c.useEffect((function(){var e=f.current;e&&e.setSelectionRange(s,s)}),[f,s,l]);return c.createElement("input",(0,a.Z)({},t,{value:l,onBlur:n,ref:f,onChange:function(e){var t,n=(null==(t=e.target)?void 0:t.selectionEnd)||0;d(n),r&&r(e)},"data-testid":o}))};var s=function(e){var t=e.inputProps,n=e.defaultValue,r=e.value,l=e.handleBlur,i=e.handleChange,u=e.setInputValue,s=e.testID,d=void 0===s?"react-currency-input-uncontrolled":s;return c.useEffect((function(){if("undefined"!==n){var e=o().unformat(String(n),",").toString();u(o().formatMoney(e,"",2,".",","))}}),[]),c.createElement("input",(0,a.Z)({},t,{value:r,onBlur:l,onChange:i,"data-testid":d}))};var d=function(e){return c.createElement("svg",(0,a.Z)({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"}),c.createElement("path",{d:"M48 224C39.16 224 32 216.8 32 208C32 199.2 39.16 192 48 192H73.28C100.8 99.47 186.5 32 288 32H336.1C345.8 32 352.1 39.16 352.1 48C352.1 56.84 345.8 64 336.1 64H288C204.4 64 133.3 117.4 106.9 192H304C312.8 192 320 199.2 320 208C320 216.8 312.8 224 304 224H98.65C96.91 234.4 96 245.1 96 256C96 266.9 96.91 277.6 98.65 288H304C312.8 288 320 295.2 320 304C320 312.8 312.8 320 304 320H106.9C133.3 394.6 204.4 448 288 448H336.1C345.8 448 352.1 455.2 352.1 464C352.1 472.8 345.8 480 336.1 480H288C186.5 480 100.8 412.5 73.28 320H48C39.16 320 32 312.8 32 304C32 295.2 39.16 288 48 288H66.27C64.77 277.5 64 266.9 64 256C64 245.1 64.77 234.5 66.27 224H48z"}))},f=n(6277),g=function(e){return c.createElement("svg",(0,a.Z)({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}),c.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464zM256 304c13.25 0 24-10.75 24-24v-128C280 138.8 269.3 128 256 128S232 138.8 232 152v128C232 293.3 242.8 304 256 304zM256 337.1c-17.36 0-31.44 14.08-31.44 31.44C224.6 385.9 238.6 400 256 400s31.44-14.08 31.44-31.44C287.4 351.2 273.4 337.1 256 337.1z"}))},m={minimumFractionDigits:2,useGrouping:!0,style:"decimal",maximumFractionDigits:2},p=function(e){return new Intl.NumberFormat("pt-BR",Object.assign({},e))};function v(e,t){var n;void 0===t&&(t=2);var a=e.replace(".","").replace(",",".");console.log(a,t);var r=(null==(n=parseFloat(a))?void 0:n.toFixed(t))||0;return Number(r)}function x(e,t){return void 0===t&&(t=m),p(t).format(e)}const C=function(e){var t=e.inputProps,n=e.defaultValue,a=e.value,r=e.testID,l=e.onChangeCurrency,i=e.onBlurCurrency,m=e.showCurrencyIcon,p=e.size,C=void 0===p?"md":p,h=e.label,y=e.error,E=e.helperText,k=e.minValue,w=e.maxValue,S=e.maximumFractionDigits,b=void 0===S?2:S,B=c.useState(""),N=B[0],P=B[1];c.useEffect((function(){void 0!==a&&P(String(a))}),[a]),c.useEffect((function(){if(a){var e=o().unformat(String(a)||"0",",").toString();P(o().formatMoney(e,"",2,".",","))}n&&a&&console.warn("You are trying to use controlled and uncontrolled at the same time. Just used inputProps.value or just defaultValue")}),[]);var D=function(e,n,r){!a&&P(e),(null==t?void 0:t.onChange)&&t.onChange(n),l&&l(r)},T=function(e){var t=e.target.value,n=v(t,b),a=x(n,{maximumFractionDigits:b}),r=(t||"").replace(/[^0-9.,]/g,"");return{float:n,formatted:a,cents:Number(String(n).replace(/[.,\s]/g,"")),value:r}},F=function(e){var t=T(e),n=t.value,a=t.float;w||k||D(n,e,t);var r=w&&a<=w,c=k&&a>=k;k&&!w&&c&&D(n,e,t),w&&!k&&r&&D(n,e,t),w&&k&&c&&r&&D(n,e,t)},H=c.useCallback((function(e){if(N){var n=o().unformat(e.target.value,",").toString();P(o().formatMoney(n,"",2,".",",")),(null==t?void 0:t.onBlur)&&t.onBlur(e),function(e){var t=T(e);null==i||i(t)}(e)}}),[N]);return c.createElement("fieldset",{className:(0,f.Z)({"react-accounting-textfield--fieldset":!0,"react-accounting-textfield--fieldset--with-error":"boolean"==typeof y&&y})},h&&c.createElement("label",{className:"react-accounting-textfield--label"}," ",h),c.createElement("div",{className:(0,f.Z)({"react-accounting-textfield--container":!0,"react-accounting-textfield--container-with-adorment":m,"react-accounting-textfield--container-sm":"sm"===C,"react-accounting-textfield--container-md":"md"===C,"react-accounting-textfield--container-lg":"lg"===C,"react-accounting-textfield--container--with-label":!!h})},m&&c.createElement("div",{className:(0,f.Z)({"react-accounting-textfield-with-adorment":m})},c.createElement(d,null)),void 0!==a&&c.createElement(u,{inputProps:t,value:String(N),handleBlur:H,handleChange:F,"data-testid":r,setInputValue:P}),void 0===a&&c.createElement(s,{inputProps:t,defaultValue:String(n),value:String(N),handleBlur:H,handleChange:F,"data-testid":r,setInputValue:P})),E&&c.createElement("div",{className:"react-accounting-textfield--helperText-container"},y&&c.createElement("i",{className:"react-accounting-textfield--helperText-icon-error"},c.createElement(g,null)),c.createElement("span",{className:"react-accounting-textfield--helperText"},E)))};var h=n(7327),y=n(9558),E=n(8141);function k(){var e=c.useState([]),t=e[0],n=e[1],a=c.useState("0"),r=a[0],l=a[1],i=function(e,t){n((function(n){return[{eventname:e,payload:t}].concat(n)}))};return c.createElement(c.Fragment,null,c.createElement(h.x,null,"2 Point floating"),c.createElement(C,{value:r,onBlurCurrency:function(e){i("onBlurCurrency",e)},onChangeCurrency:function(e){i("onChangeCurrency",e),l(e.value)}}),c.createElement(h.x,{mt:"lg"},"4 Point floating"),c.createElement(C,{value:r,onBlurCurrency:function(e){i("onBlurCurrency",e)},onChangeCurrency:function(e){i("onChangeCurrency",e),l(e.value)},maximumFractionDigits:4}),c.createElement(y.x,{mt:"lg",h:400},c.createElement(h.x,null,"Events will show here:"),c.createElement(E.x,{mt:"lg",h:250},t.map((function(e,n){return c.createElement("div",{key:n},c.createElement("strong",null,e.eventname," - ",t.length-n),c.createElement("pre",null,JSON.stringify(e.payload,null,2)))})))))}var w=["components"],S={sidebar_position:2},b="React Accounting Textfield",B={unversionedId:"packages/react-accounting-textfield/react-accounting-textfield",id:"packages/react-accounting-textfield/react-accounting-textfield",title:"React Accounting Textfield",description:"Create your first React Page",source:"@site/docs/packages/react-accounting-textfield/react-accounting-textfield.md",sourceDirName:"packages/react-accounting-textfield",slug:"/packages/react-accounting-textfield/",permalink:"/flexysearch/docs/packages/react-accounting-textfield/",draft:!1,editUrl:"https://github.com/AlexcastroDev/flexysearch/docs/packages/react-accounting-textfield/react-accounting-textfield.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/flexysearch/docs/packages/react-accounting-textfield/installation"},next:{title:"Package flexysearch",permalink:"/flexysearch/docs/changelogs/Changelogs-Core"}},N={},P=[{value:"Create your first React Page",id:"create-your-first-react-page",level:2},{value:"Code",id:"code",level:2}],D={toc:P},T="wrapper";function F(e){var t=e.components,n=(0,r.Z)(e,w);return(0,l.kt)(T,(0,a.Z)({},D,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"react-accounting-textfield"},"React Accounting Textfield"),(0,l.kt)("h2",{id:"create-your-first-react-page"},"Create your first React Page"),(0,l.kt)("p",null,"Create a file at ",(0,l.kt)("inlineCode",{parentName:"p"},"src/components/textfield.tsx"),":"),(0,l.kt)(k,{mdxType:"Textfield"}),(0,l.kt)("h2",{id:"code"},"Code"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="src/components/textfield.tsx"',title:'"src/components/textfield.tsx"'},"import React from 'react';\nimport TextField from 'react-accounting-textfield';\n\nexport default function App({ appProps }) {\n  return (\n     <TextField\n        value={value}\n        onBlurCurrency={(data) => {\n          pushEvent('onBlurCurrency', data)\n        }}\n        onChangeCurrency={(data) => {\n          pushEvent('onChangeCurrency', data)\n          setValue(data.value)}\n        }\n        maximumFractionDigits={2} // default 2\n      />\n  );\n}\n")))}F.isMDXComponent=!0}}]);